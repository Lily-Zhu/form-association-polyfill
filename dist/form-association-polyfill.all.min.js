/**
 * Form association polyfill
 * @see https://github.com/paulzi/form-association-polyfill
 * @license MIT (https://github.com/paulzi/form-association-polyfill/blob/master/LICENSE)
 * @version 1.0.1
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){"use strict";a(document).on("submit","form",function(b){if(!b.isDefaultPrevented()){var c=a(this),d=a(window);d.off("submit"),d.one("submit",function(){var e=a.Event("submitlast");if(c.trigger(e),e.isDefaultPrevented())b.preventDefault();else{c.trigger({type:"submitbefore",transport:"default"});var f="formExtraEvents",g=function(){var a=c.data(f);a&&clearTimeout(a),a!==!1&&(c.data(f,!1),c.trigger({type:"submitstart",transport:"default"}))};c.data(f,setTimeout(g,100)),d.one("beforeunload",g),d.one("unload",function(){g(),c.trigger({type:"submitend",transport:"default"})})}})}})}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){"use strict";var b="formAssociationPolyfill",c='input[type="submit"],input[type="image"],button[type="submit"]';a(document).on("click","input,button",function(){document.activeElement&&document.activeElement!==document.body||a(this).focus()});var d=function(){this.style.display="none"},e=function(){var c=a(document.body),e=a("<form>").prop("id",b).each(d).appendTo(c),f=a('<input form="'+b+'">').each(d).appendTo(c),g=f.prop("form")===e[0];return e.add(f).remove(),g},f=function(b){var c=a(this).attr("form");if(c){var d=a(this).closest("form");d.length&&d[0].id===c||(b.preventDefault(),d.one("submit",function(a){a.preventDefault(),a.stopPropagation()}),a("form#"+c).trigger("submit"))}},g=function(){var c,e,f,g=this,h=[];for(c=0;c<g.elements.length;c++)e=g.elements[c],f=a(e).attr("form"),f&&f!==g.id&&!e.disabled&&(e.disabled=!0,h.push(e));var i=a();if(g.id){var j=function(b,c){var e=a("<div>").each(d);return e[c](b),i=i.add(e),e},k=j(g,"prependTo");a('[form="'+g.id+'"], form[id="'+g.id+'"]').each(function(){if(this===g)k=j(g,"appendTo");else if(-1===a.inArray(g.elements,this)&&!this.disabled){var c=this.cloneNode(!0);a(this).replaceWith(c).prop(b,c).appendTo(k)}})}g[b]=[h,i]},h=function(){var c=this[b];if(c){var d;for(d=0;d<c[0].length;d++)c[0][d].disabled=!1;c[1].children().each(function(){a(this[b]).replaceWith(this),this[b]=null}).end().remove()}};e()||(a(document).on("click",c,f),a(document).on("submitbefore","form",g),a(document).on("submitstart","form",h));var i=b+"Submission",j=["action","enctype","method","target"],k=function(){var b=a("<input>")[0];return!!("formAction"in b)},l=function(){var b=a(this),d=a(document.activeElement).filter(c);if(d.length){var e={},f={};a.each(j,function(a,c){e[c]=d.attr("form"+c),f[c]=b.attr(c)}),b.prop(i,f),b.attr(e)}},m=function(){var b=a(this).prop(i);b&&a(this).attr(b)};k()||(a(document).on("submitbefore","form",l),a(document).on("submitstart","form",m))});